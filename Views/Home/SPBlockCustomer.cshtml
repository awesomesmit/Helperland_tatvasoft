@model IEnumerable<Helperland.Models.CustomModel>
@{
    ViewData["Title"] = "SPBlockCustomer";
}

@section Styles{
    <link href="~/css/upcoming-services.css" rel="stylesheet" />
}

<partial name="~/Views/Shared/_PublicHeader.cshtml" />

<div class="welcome-tab text-center">
    <div class="greet align-middle">Welcome, <b>@HttpContextAccessor.HttpContext.Session.GetString("UserName_Session")!</b></div>
</div>

<div class="wrapper container-fluid">
    <!-- side-nav -->
    <aside>

        <ul class="nav nav-tabs flex-column" id="myTab" role="tablist">
            @*<li class="nav-item">
                    <a class="nav-link sidebar-only navlink-dashboard" id="dashboard-tab" role="tab" aria-controls="dashboard" aria-selected="true">Dashboard</a>
                </li>*@
            <li class="nav-item">
                <a class="nav-link sidebar-only navlink-newreq" id="newreq-tab" role="tab" aria-controls="newreq" aria-selected="false" asp-action="SPDashboard">Dashboard</a>
            </li>
            <li class="nav-item">
                <a class="nav-link sidebar-only navlink-upcomingreq" id="upcomingreq-tab"
                   role="tab" aria-controls="upcomingreq" aria-selected="false" asp-action="SPUpcoming">
                    Upcoming
                    Services
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link sidebar-only navlink-serviceschedule" id="serviceschedule-tab"
                   role="tab" aria-controls="serviceschedule" aria-selected="false">
                    Service
                    Schedule
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link sidebar-only navlink-servicehistory" id="servicehistory-tab"
                   role="tab" aria-controls="servicehistory" aria-selected="false" asp-action="SPServiceHistory">
                    Service
                    History
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link sidebar-only navlink-ratings" id="ratings-tab"
                   role="tab" aria-controls="ratings" aria-selected="false" asp-action="SPRatings">My Ratings</a>
            </li>
            <li class="nav-item">
                <a class="nav-link sidebar-only navlink-blockcustomer active" id="blockcustomer-tab"
                   role="tab" aria-controls="blockcustomer" aria-selected="false">
                    Block
                    Customer
                </a>
            </li>
        </ul>
    </aside>

    <div class="table-content">

        <div class="tab-content" id="myTabContent">

            <!-- Block-Customer-tab -->
            <div class="tab-pane fade show active" id="blockcustomer" role="tabpanel" aria-labelledby="blockcustomer-tab">
                <div class="block-cust-content">
                   
                    @if (Model != null)
                    {
                        @foreach (var item in Model)
                        {
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex align-items-center flex-column">
                                        <div class="profile-pic">
                                            <img src="~/assets/cap.png" alt="">
                                        </div>
                                        <div class="cust-name">
                                            <b>@item.FirstName @item.LastName</b>
                                        </div>
                                        <div class="block-btn">
                                            @if (@item.IsBlocked)
                                            {
                                                <a asp-action="UnblockCustomer" asp-route-id="@item.Id">
                                                    <button class="btn unblock-btn">Unblock</button>
                                                </a>
                                            }
                                            else
                                            {
                                                <a asp-action="BlockCustomer" asp-route-id="@item.Id">
                                                    <button class="btn">Block</button></a>
                                            }
                                            </div>
                                    </div>
                                </div>
                            </div>
                        }
                    }

                </div>
            </div>

        </div>
    </div>
</div>

<div style="flex-grow:1"></div>
